(()=>{let e,t,c,n,a=document.querySelector(".cc-number-input"),l=/^\d{0,16}$/g,r=document.querySelector(".cc-expiry-input"),i=/^\d{0,4}$/g,u=(document.querySelector(".cc-cvc-input"),(e,t,c)=>{var n=[];for(let a=0;a<e.length;a++)0!==a&&a%t==0&&n.push(c),n.push(e[a]);return n.join("")}),d=e=>e.replace(/[^\d]/g,""),s=(e,t)=>Math.floor(e/(t+1));a.addEventListener("keydown",(c=>{let n=c.target;e=n.value,t=n.selectionEnd})),a.addEventListener("input",(c=>{let n,a=c.target,r=d(a.value);r.match(l)?(r=u(r,4," "),n=t-s(t,4)+s(t+(r.length-e.length),4)+(d(r).length-d(e).length),a.value=""!==r?r:""):(a.value=e,n=t),a.setSelectionRange(n,n),(e=>{let t="",c={amex:/^3/,visa:/^4/,mastercard:/^5/,disc:/^6/,genric:/(^1|^2|^7|^8|^9|^0)/};for(const n in c)if(c[n].test(e)){t=n;break}let n=document.querySelector(".cc-types__img--active"),a=document.querySelector(`.cc-types__img--${t}`);n&&n.classList.remove("cc-types__img--active"),a&&a.classList.add("cc-types__img--active")})(a.value)})),r.addEventListener("keydown",(e=>{let t=e.target;c=t.value,n=t.selectionEnd})),r.addEventListener("input",(e=>{let t=e.target,n=t.value;n=d(n),n.match(i)?(n=u(n,2,"/"),t.value=n):t.value=c}))})();